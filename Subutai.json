{
  "name": "${environmentName}",
  "description": "Subutai Mattermost",
  "nodes": [
    {
      "name": "mysql",
      "template": "mysql@280dcda67a67d071970ff838d0331c33c0c04710",
      "peer_group": "mattermost",
      "size": "${dbcontainertype}"
    },
    {
      "name": "mattermost",
      "template": "mattermost@280dcda67a67d071970ff838d0331c33c0c04710",
      "peer_group": "mattermost",
      "size": "${mattermostcontainertype}",
      "expose": [
        {
          "protocol": "tcp",
          "domain": "${domain}",
          "port_int": "8065",
          "port_ext": "8086"
        }
      ]
    }

  ],
  "peerGroups": [
    {
      "name": "mattermost",
      "pricingPref": {
        "maxPrice": "${maxPrice}"
      }
    }
  ],
  "configuration": {
    "playbook": "https://github.com/platium/mattermost/archive/master.zip",
    "script": "main.yml",
    "groups": [
      {
        "name": "db",
        "nodes_name": [
          "mysql"
        ]
      },
      {
        "name": "mattermost",
        "nodes_name": [
          "mattermost"
        ]
      }
    ]
  },
  "dbcontainertype": {
    "description": "You can set TINY,SMALL,MEDIUM,LARGE,HUGE",
    "type": "enum",
    "default": "SMALL",
    "validation": "TINY,SMALL,MEDIUM,LARGE,HUGE"
  }
  ,
  "mattermostcontainertype": {
    "description": "You can set TINY,SMALL,MEDIUM,LARGE,HUGE",
    "type": "enum",
    "default": "SMALL",
    "validation": "TINY,SMALL,MEDIUM,LARGE,HUGE"
  },
    "maxPrice": {
    "description": "Enter the max price",
    "type": "int",
    "default": "5.5",
    "validation": "\\d+"
  },
  "domain": {
    "description": "Enter your domain name",
    "type": "string",
    "default": "mattermost.envs.subutai.cloud",
    "validation": "[a-zA-Z0-9.]+"
  },
  "environmentName":{
      "description": "Enter your environment name",
    "type": "string",
    "default": "mattermost env",
    "validation": "[a-zA-Z0-9]+"
  }
  
}
